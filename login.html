<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>Connexion</title>
<link rel="stylesheet" href="/assets/style/style.css">
<script src="https://unpkg.com/vue@3"></script>
<script src="/assets/js/auth.js"></script>
</head>
<body>

<div id="app" class="login-box">
  <h2>Connexion / Inscription</h2>

  <input v-model="email" placeholder="Email">
  <input v-model="password" type="password" placeholder="Mot de passe">

  <button @click="login">Se connecter</button>
  <p>{{ message }}</p>
</div>

<script>
Vue.createApp({
  data() {
    return {
      email: "",
      password: "",
      message: ""
    }
  },
  methods: {
    login() {
      if (this.email && this.password) {
        const fakeToken = "token_" + Math.random().toString(36).substring(2);
        Auth.login(this.email, fakeToken);
        this.message = "Connexion rÃ©ussie !";
        setTimeout(() => window.location.href = "index.html", 1000);
      } else {
        this.message = "Remplis les champs";
      }
    }
  }
}).mount("#app");
</script>

</body>
</html>
